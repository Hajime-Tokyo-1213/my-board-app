# 要件定義書 - オープン掲示板システム

## 1. プロジェクト概要

### 1.1 システム名
オープン掲示板（Open Board）

### 1.2 目的
誰でも自由に投稿・編集・削除ができるオープンな掲示板システムを提供する。

### 1.3 システムの特徴
- ユーザー登録不要
- リアルタイムで投稿が反映
- シンプルで使いやすいインターフェース
- レスポンシブデザイン対応

## 2. 機能要件

### 2.1 投稿機能（Create）
- **機能ID**: FR-001
- **概要**: 新規投稿を作成する
- **詳細**:
  - テキストベースの投稿が可能
  - 投稿は最大200文字まで
  - 空の投稿は不可
  - 投稿後は即座に一覧に反映
  - 絵文字や特殊文字に対応

### 2.2 一覧表示機能（Read）
- **機能ID**: FR-002
- **概要**: 投稿された内容を一覧表示する
- **詳細**:
  - 新しい投稿順（降順）で表示
  - 投稿日時を表示
  - 編集済みの場合は編集日時も表示
  - 投稿数をカウント表示
  - ページ読み込み時にローディング表示

### 2.3 編集機能（Update）
- **機能ID**: FR-003
- **概要**: 既存の投稿を編集する
- **詳細**:
  - 全ての投稿が編集可能
  - インライン編集方式
  - 編集中はキャンセル可能
  - 文字数制限は新規投稿と同じ（200文字）
  - 編集後は「編集済み」マークと編集日時を表示

### 2.4 削除機能（Delete）
- **機能ID**: FR-004
- **概要**: 投稿を削除する
- **詳細**:
  - 全ての投稿が削除可能
  - 削除前に確認ダイアログを表示
  - 削除後は復元不可
  - 削除後は一覧から即座に消える

### 2.5 診断機能
- **機能ID**: FR-005
- **概要**: システムの状態を診断する
- **詳細**:
  - 画面サイズとレスポンシブ状態の確認
  - Material UIテーマの適用状態確認
  - パフォーマンス情報の表示

### 2.6 自動テスト機能
- **機能ID**: FR-006
- **概要**: CRUD機能の自動テストを実行
- **詳細**:
  - ワンクリックで全機能テスト
  - テスト結果の視覚的表示
  - 実行時間の計測

## 3. 非機能要件

### 3.1 パフォーマンス要件
- **NFR-001**: 投稿一覧の読み込みは3秒以内
- **NFR-002**: API応答時間は200ms以内（DB接続確立後）
- **NFR-003**: 100件の投稿でも正常に動作

### 3.2 ユーザビリティ要件
- **NFR-004**: モバイル、タブレット、デスクトップに対応
- **NFR-005**: 直感的で分かりやすいUI
- **NFR-006**: エラーメッセージは日本語で表示

### 3.3 セキュリティ要件
- **NFR-007**: XSS攻撃への対策（HTMLタグのエスケープ）
- **NFR-008**: 環境変数による機密情報の管理
- **NFR-009**: MongoDBへの安全な接続

### 3.4 互換性要件
- **NFR-010**: Chrome、Firefox、Safari、Edgeの最新版に対応
- **NFR-011**: iOS Safari、Android Chromeに対応

### 3.5 可用性要件
- **NFR-012**: エラー発生時も適切にハンドリング
- **NFR-013**: ネットワークエラー時にユーザーに通知

## 4. 制約事項

### 4.1 技術的制約
- フロントエンド: Next.js 15.4.5、React 19.1.0
- UIライブラリ: Material UI 7.2.0（TailwindCSSは含まれているが使用せず）
- データベース: MongoDB Atlas
- ホスティング: Vercel推奨
- 注意: Next.js 15では動的ルートのparamsがPromiseとなる仕様変更あり

### 4.2 ビジネス制約
- ユーザー認証機能は実装しない
- 投稿の編集履歴は保存しない
- 画像投稿機能は含まない

## 5. 前提条件

### 5.1 動作環境
- Node.js 18以上
- npm または yarn
- MongoDB Atlas アカウント
- モダンブラウザ（ES6対応）

### 5.2 利用者
- 技術的知識不要
- 日本語が理解できる
- インターネット接続環境

## 6. 用語定義

| 用語 | 説明 |
|------|------|
| 投稿 | ユーザーが掲示板に書き込むテキストコンテンツ |
| CRUD | Create（作成）、Read（読取）、Update（更新）、Delete（削除）の頭文字 |
| レスポンシブ | 画面サイズに応じてレイアウトが最適化される設計 |
| インライン編集 | 一覧画面上で直接編集できる方式 |

## 7. 改訂履歴

| 版数 | 日付 | 内容 | 作成者 |
|------|------|------|--------|
| 1.0 | 2025-08-07 | 初版作成 | Claude Code |