# 画面仕様書 - オープン掲示板システム

## 1. 画面一覧

| 画面ID | 画面名 | パス | 説明 |
|--------|--------|------|------|
| SC-001 | トップページ | / | 投稿一覧と投稿フォームを表示 |
| SC-002 | 診断ページ | /diagnostic | システム診断情報を表示 |
| SC-003 | テストページ | /test | 自動テスト実行画面 |

## 2. 画面詳細

### 2.1 トップページ（SC-001）

#### 2.1.1 画面構成

```
┌─────────────────────────────────────────┐
│          オープン掲示板                    │
│    誰でも自由に投稿・編集・削除ができます      │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ 新しい投稿                               │
│ ┌─────────────────────────────────┐   │
│ │ 今何を考えていますか？              │   │
│ │                                   │   │
│ │                                   │   │
│ └─────────────────────────────────┘   │
│ 0/200                                   │
│ [📤 投稿する]                           │
└─────────────────────────────────────────┘

投稿一覧 (X件)

┌─────────────────────────────────────────┐
│ 投稿内容がここに表示されます               │
│                                         │
│ 投稿日時: 2025/08/07 14:30  [✏️] [🗑️]   │
└─────────────────────────────────────────┘
```

#### 2.1.2 コンポーネント仕様

##### ヘッダー部
- **背景色**: プライマリーカラー（#1976d2）
- **文字色**: 白
- **パディング**: 24px（モバイル: 16px）
- **タイトルフォントサイズ**: 
  - デスクトップ: 3rem
  - タブレット: 2.5rem
  - モバイル: 1.75rem

##### 投稿フォーム（PostForm）
- **コンポーネント**: `/src/components/PostForm.tsx`
- **入力フィールド**:
  - 種類: TextField（multiline）
  - 行数: 3
  - 最大文字数: 200
  - プレースホルダー: "今何を考えていますか？"
- **文字数カウンター**: 
  - 表示形式: "現在文字数/200"
  - 200文字超過時: 赤色表示
- **投稿ボタン**:
  - 無効条件: 空または201文字以上
  - アイコン: SendIcon
  - 投稿中: "投稿中..."表示

##### 投稿カード（PostCard）
- **コンポーネント**: `/src/components/PostCard.tsx`
- **表示要素**:
  - 投稿内容（改行対応）
  - 投稿日時（YYYY/MM/DD HH:mm形式）
  - 編集済み表示（該当する場合）
  - 編集ボタン（EditIcon）
  - 削除ボタン（DeleteIcon）
- **編集モード**:
  - インライン編集
  - 保存/キャンセルボタン表示
  - 編集中は他の操作を無効化

#### 2.1.3 レスポンシブ対応

| ブレークポイント | 幅 | 対応内容 |
|----------------|-----|----------|
| xs | < 600px | モバイル最適化 |
| sm | 600-900px | タブレット対応 |
| md | 900-1200px | 標準デスクトップ |
| lg | > 1200px | 大画面対応 |

### 2.2 診断ページ（SC-002）

#### 2.2.1 表示項目

##### スクリーン情報
- 画面幅（px）
- 画面高さ（px）
- デバイスピクセル比
- 現在のブレークポイント

##### Material UI状態
- テーマプロバイダー適用状態
- カラーモード（light/dark）
- プライマリーカラー値

##### レスポンシブテスト
- グリッドレイアウトのテスト表示
- 各ブレークポイントでの表示確認

##### パフォーマンス情報
- メモリ使用量（Chrome限定）
- 総メモリ容量

### 2.3 テストページ（SC-003）

#### 2.3.1 画面構成

```
┌─────────────────────────────────────────┐
│ CRUD機能自動テスト                        │
│                                         │
│ テスト実行     [▶ テストを実行]           │
│                                         │
│ 合計: 10テスト | 成功: X | 失敗: X       │
│                                         │
│ ┌─────────────────────────────────┐     │
│ │ テスト名 | 状態 | メッセージ | 時間│     │
│ │ Create   | ✓   | 成功      | 120ms│    │
│ └─────────────────────────────────┘     │
└─────────────────────────────────────────┘
```

#### 2.3.2 テスト項目
1. Create: 通常の投稿作成
2. Create: 空の投稿（エラー期待）
3. Create: 201文字の投稿（エラー期待）
4. Create: 特殊文字を含む投稿
5. Read: 投稿一覧の取得
6. Read: 特定の投稿取得
7. Update: 投稿の更新
8. Update: 空の内容で更新（エラー期待）
9. Delete: 投稿の削除
10. Delete: 存在しないID（エラー期待）

## 3. 共通仕様

### 3.1 カラーパレット

| 要素 | カラーコード | 用途 |
|------|-------------|------|
| Primary | #1976d2 | メインカラー |
| Primary Light | #42a5f5 | ホバー時 |
| Primary Dark | #1565c0 | アクティブ時 |
| Secondary | #dc004e | アクセント |
| Background | #f5f5f5 | 背景色 |
| Paper | #ffffff | カード背景 |
| Success | #4caf50 | 成功表示 |
| Error | #f44336 | エラー表示 |
| Warning | #ff9800 | 警告表示 |

### 3.2 フォント

- **フォントファミリー**: システムフォント優先
  - -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif
- **日本語フォント**: ゴシック体
- **行間**: 1.5

### 3.3 スペーシング

- **基本単位**: 8px
- **パディング**:
  - デスクトップ: 24px
  - タブレット: 16px
  - モバイル: 8px
- **マージン**: 
  - コンポーネント間: 16px
  - セクション間: 24px

### 3.4 アニメーション

- **トランジション**: 0.3s ease
- **ホバーエフェクト**: elevation変更
- **ローディング**: CircularProgress使用

## 4. エラー表示

### 4.1 エラーメッセージ一覧

| エラーID | メッセージ | 表示条件 |
|----------|-----------|----------|
| ERR-001 | 投稿内容は必須です | 空の投稿送信時 |
| ERR-002 | 投稿は200文字以内にしてください | 文字数超過時 |
| ERR-003 | 投稿の取得に失敗しました | 一覧取得エラー |
| ERR-004 | サーバーエラーが発生しました | ネットワークエラー |
| ERR-005 | Post not found | 存在しない投稿 |

### 4.2 エラー表示仕様

- **コンポーネント**: Material UI Alert
- **severity**: error
- **表示位置**: フォーム下部
- **クローズボタン**: あり
- **自動非表示**: なし

## 5. ローディング表示

### 5.1 表示タイミング
- ページ初回読み込み時
- 投稿送信中
- 編集保存中
- 削除処理中

### 5.2 表示仕様
- **コンポーネント**: CircularProgress
- **表示位置**: 中央配置
- **サイズ**: デフォルト（40px）
- **カラー**: プライマリー

## 6. アクセシビリティ

### 6.1 キーボード操作
- Tab: フォーカス移動
- Enter: ボタン実行、フォーム送信
- Escape: 編集キャンセル
- Space: チェックボックス切り替え

### 6.2 スクリーンリーダー対応
- 適切なaria-label設定
- ボタンの役割明示
- エラーメッセージの読み上げ

### 6.3 カラーコントラスト
- WCAG 2.1 AA準拠
- 最小コントラスト比: 4.5:1
- 大きなテキスト: 3:1